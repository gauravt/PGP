<script type="text/discourse-plugin" version="0.8">
  const { htmlSafe } = require("@ember/template");
  const { findRawTemplate } = require("discourse-common/lib/raw-templates");
  api.modifyClass('component:topic-list-item', {
    renderTopicListItem() {
      const template = findRawTemplate("list/custom-topic-list-item");
      if (template) {
        this.set("topicListItemContents", htmlSafe(template(this)));
      }
    },
  });
 
let currentLocale = I18n.currentLocale();
I18n.translations[currentLocale].js.custom_modal_title ="My custom modal";
const showModal = require("discourse/lib/show-modal").default;
const h = require("virtual-dom").h;
api.createWidget("modal-button", {
  tagName: "button.btn.btn-primary",
  html(arg) {
    return arg;
  },
  click(arg) {
      if(arg.target.innerText=="Ask") {
        $('#create-topic').click();
      } else if( arg.target.innerText== "Answer" ) {
          $('#create-topic').click();
      } else if( arg.target.innerText== "Post" ) {
           $('#create-topic').click();
      }
  }
});

api.createWidget("askqa", {
  tagName: "div.wrap",
  html() {
    let contents = [];
    contents.push(h("div.hc-column",'rrrrrrrr'));
    let row1 = h("div.row-cont", contents);
    let h1 = h('div.top-spot',h('h1',' luogo dove offrire e cercare aiuto'));
    let inner = [];
    let bottoni = [];
    //bottoni.push(h("div.hc-column",this.attach('modal-button','Ask')))
    bottoni.push(h("div.hc-column",this.attach('modal-button','Answer')))
    //bottoni.push(h("div.hc-column",this.attach('modal-button','Post')))
    let row2 = h("div.row-cont", bottoni);
    inner.push(h1,row1,row2);
    return h("div.hc-banner",inner);
  },
});

</script>



<script type='text/x-handlebars' data-template-name='/connectors/above-footer/increment-button'>
    {{mount-widget widget="askqa" }}
</script>`
